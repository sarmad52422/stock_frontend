"use strict";(self.webpackChunkstocky_web=self.webpackChunkstocky_web||[]).push([[665],{4665:(mt,y,r)=>{r.r(y),r.d(y,{STOCK_COMPONENTS:()=>Ze,StockModule:()=>ve});var C=r(3213),Q=r(1597),F=r(482),t=r(4650),l=r(3679),i=r(6704),x=r(5635);const f=function(){return[12,16]};let k=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-stock-code-search"]],decls:7,vars:5,consts:[["nz-col","","nzSpan","24"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzLg","nzSpan","nzXs"],["name","stockNumber","nz-input","","placeholder","Enter stock number or code","type","text"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nz-form-item")(4,"nz-form-label"),t._uU(5,"Stock #"),t.qZA(),t._UZ(6,"input",3),t.qZA()()()()),2&n&&(t.xp6(1),t.Q6J("nzGutter",t.DdM(4,f)),t.xp6(1),t.Q6J("nzLg",24)("nzSpan",8)("nzXs",24))},dependencies:[l.t3,l.SK,i.Nx,i.iK,x.Zp],encapsulation:2}),e})();var u=r(5861),p=r(433),w=r(6600),U=r(6485),T=r(6986),ut=r(2340),dt=r(529);let _t=(()=>{class e{constructor(n){this.http=n,this.url=ut.N.api.baseUrl+"/stock"}save(n){return this.http.post(`${this.url}/create`,n,{observe:"response"})}search(n){return this.http.post(`${this.url}/search`,n,{observe:"response"})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(dt.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var gt=r(387),G=r(9651),N=r(7375),d=r(6895),H=r(6616),P=r(7044),ft=r(7096),zt=r(6497),D=r(7830),ht=r(1102),St=r(8213),g=r(6903),q=r(9054),Ct=r(4897),J=r(42),xt=r(8470),kt=r(5573),V=r(260);const Tt=["totalAmountNzInputNumberComponent"],Zt=["amountPaidNzInputNumberComponent"],vt=["balanceAmountNzInputNumberComponent"];let Y=(()=>{class e{constructor(){this.isPaidInvalid=!1,this.settlement=new T.p2,this.settlementChange=new t.vpe}calculate(){this.resetValidators(),this.calculateSettlementFigures()}resetValidators(){this.isPaidInvalid=!1}calculateSettlementFigures(){this.settlement.calculateBalance(),this.settlement.paid>this.settlement.amount&&(this.isPaidInvalid=!0),this.onNotifyChange()}onNotifyChange(){this.settlementChange.emit(this.settlement)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-stock-item-settlement-form"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Tt,5),t.Gf(Zt,5),t.Gf(vt,5)),2&n){let a;t.iGM(a=t.CRH())&&(o.totalAmount=a.first),t.iGM(a=t.CRH())&&(o.amountPaid=a.first),t.iGM(a=t.CRH())&&(o.balanceAmount=a.first)}},inputs:{settlement:"settlement"},outputs:{settlementChange:"settlementChange"},decls:23,vars:13,consts:[["legend","Supplier Settlement"],["nz-row","","nzGutter","8"],["nz-col","",3,"nzLg","nzSpan","nzXs"],["nzErrorTip",""],["min","0","nz-input","","placeholder","Enter total amount","type","number",1,"wd-100p",3,"ngModel","input","ngModelChange"],["totalAmountNzInputNumberComponent",""],["nzErrorTip","",3,"nzValidateStatus"],["min","0","nz-input","","placeholder","Enter amount paid","type","number",1,"wd-100p",3,"ngModel","input","ngModelChange"],["amountPaidNzInputNumberComponent",""],["min","0","nz-input","","placeholder","Enter balance","type","number",1,"wd-100p",3,"ngModel","ngModelChange"],["balanceAmountNzInputNumberComponent",""]],template:function(n,o){1&n&&(t.TgZ(0,"app-fieldset",0)(1,"div",1)(2,"div",2)(3,"nz-form-item")(4,"nz-form-label"),t._uU(5,"Total Amount"),t.qZA(),t.TgZ(6,"nz-form-control",3)(7,"input",4,5),t.NdJ("input",function(){return o.calculate()})("ngModelChange",function(){return o.calculate()})("ngModelChange",function(s){return o.settlement.amount=s}),t.qZA()()()(),t.TgZ(9,"div",2)(10,"nz-form-item")(11,"nz-form-label"),t._uU(12,"Amount Paid"),t.qZA(),t.TgZ(13,"nz-form-control",6)(14,"input",7,8),t.NdJ("input",function(){return o.calculate()})("ngModelChange",function(s){return o.settlement.paid=s}),t.qZA()()()(),t.TgZ(16,"div",2)(17,"nz-form-item")(18,"nz-form-label"),t._uU(19,"Balance Amount"),t.qZA(),t.TgZ(20,"nz-form-control",3)(21,"input",9,10),t.NdJ("ngModelChange",function(s){return o.settlement.balance=s}),t.qZA()()()()()()),2&n&&(t.xp6(2),t.Q6J("nzLg",8)("nzSpan",24)("nzXs",24),t.xp6(5),t.Q6J("ngModel",o.settlement.amount),t.xp6(2),t.Q6J("nzLg",8)("nzSpan",24)("nzXs",24),t.xp6(4),t.Q6J("nzValidateStatus",o.isPaidInvalid?"error":"success"),t.xp6(1),t.Q6J("ngModel",o.settlement.paid),t.xp6(2),t.Q6J("nzLg",8)("nzSpan",24)("nzXs",24),t.xp6(5),t.Q6J("ngModel",o.settlement.balance))},dependencies:[p.Fj,p.wV,p.JJ,p.qQ,p.On,l.t3,l.SK,i.Nx,i.iK,i.Fd,x.Zp,V.e],encapsulation:2}),e})();var L=r(9646),z=r(6709),bt=r(6793);const At=["titleInputElement"];function Mt(e,c){if(1&e&&(t.TgZ(0,"div",16)(1,"span",17),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.TgZ(4,"span",17),t._uU(5),t.qZA()()),2&e){const n=t.oxw(2);t.xp6(2),t.hij("Total Expenses Amount: ",t.xi3(3,2,n.totalAmount,"\u20a6")," "),t.xp6(3),t.hij("Number of activities: ",n.expenses.length,"")}}const Jt=function(){return{title:"Title"}},yt=function(){return{title:"Amount"}},wt=function(){return{title:""}},B=function(e,c,n){return[e,c,n]},Qt=function(){return{tableSize:"small",tableLayout:"auto"}};function Ft(e,c){if(1&e&&(t.TgZ(0,"div",13),t.YNc(1,Mt,6,5,"div",14),t._UZ(2,"app-table",15),t.qZA()),2&e){const n=t.oxw(),o=t.MAs(22),a=t.MAs(24),s=t.MAs(26);t.xp6(1),t.Q6J("ngIf",n.tableList),t.xp6(1),t.Q6J("colHeadings",t.kEZ(8,B,t.DdM(5,Jt),t.DdM(6,yt),t.DdM(7,wt)))("dataList",n.tableList)("props",t.DdM(12,Qt))("rowTemplates",t.kEZ(13,B,o,a,s))}}function Nt(e,c){1&e&&t._UZ(0,"app-table-item",18),2&e&&t.Q6J("content",c.item.title)}function Lt(e,c){1&e&&t._UZ(0,"app-table-item",18),2&e&&t.Q6J("content",c.item.amount)}const Ot=function(e,c){return{handler:e,icon:"delete",type:"text",iconCss:"red",args:c,size:"small"}};function Et(e,c){if(1&e&&t._UZ(0,"app-button",7),2&e){const n=c.item,o=t.oxw();t.Q6J("props",t.WLB(1,Ot,o.onHandleRemoveItem,n))}}const It=function(e){return{handler:e,size:"default",title:"Add",icon:"plus"}};let X=(()=>{class e{constructor(n,o,a,s){this.fb=n,this.msg=o,this.renderer=a,this.util=s,this.expenses=[],this.expensesChange=new t.vpe,this.form=this.buildForm,this.tableList=(0,L.of)([]),this.getNzFormControlValidStatus=this.util.getNzFormControlValidStatus,this.onHandleAddItem=()=>{if(this.form.invalid)return void this.util.markFormFieldsAsDirtyAndTouched(this.form);const m=this.form.value;this.expenses.some(M=>M.title===m.title)?this.msg.error("Similar item already exist."):(this.expenses=[...this.expenses,m],this.tableList=(0,L.of)(this.expenses),this.onNotifyChange(),this.onResetForm(),this.setFocusOnTitleInputField())},this.onHandleRemoveItem=m=>{if(m){const _=[...this.expenses];this.expenses=_.filter(M=>M.title!==m.title),this.tableList=(0,L.of)(this.expenses),this.onNotifyChange(),this.setFocusOnTitleInputField()}}}get totalAmount(){return this.expenses.reduce((n,o)=>n+(o.amount||0),0)}get buildForm(){return this.fb.group({amount:[null,p.kI.required],title:[null,p.kI.required]})}onResetForm(){this.form.reset(),this.form=this.buildForm}setFocusOnTitleInputField(){this.renderer.selectRootElement(this.inputElement?.nativeElement).focus()}onNotifyChange(){this.expensesChange.emit(this.expenses)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.qu),t.Y36(G.dD),t.Y36(t.Qsj),t.Y36(N.f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-stock-item-extra-expenses"]],viewQuery:function(n,o){if(1&n&&t.Gf(At,5),2&n){let a;t.iGM(a=t.CRH())&&(o.inputElement=a.first)}},inputs:{expenses:"expenses"},outputs:{expensesChange:"expensesChange"},decls:27,vars:17,consts:[["legend","Extra Expenses Incurred",3,"formGroup"],["nz-row","","nzGutter","8"],["nz-col","",3,"nzLg","nzSpan","nzXs"],["nzErrorTip","",3,"nzValidateStatus"],["formControlName","title","nz-input","","placeholder","Enter Title","type","search",3,"autofocus"],["titleInputElement",""],["formControlName","amount","min","1","nz-input","","placeholder","Enter amount","type","number",1,"w-100"],[3,"props"],["nz-row",""],["nz-col","","nzSpan","24",4,"ngIf"],["titleTmpl",""],["amountTmpl",""],["actionTmpl",""],["nz-col","","nzSpan","24"],["class","flex justify-between pl2 pr2 mb2",4,"ngIf"],[3,"colHeadings","dataList","props","rowTemplates"],[1,"flex","justify-between","pl2","pr2","mb2"],[1,"b"],[3,"content"]],template:function(n,o){1&n&&(t.TgZ(0,"app-fieldset",0)(1,"div",1)(2,"div",2)(3,"nz-form-item")(4,"nz-form-label"),t._uU(5,"Title"),t.qZA(),t.TgZ(6,"nz-form-control",3),t._UZ(7,"input",4,5),t.qZA()()(),t.TgZ(9,"div",2)(10,"nz-form-item")(11,"nz-form-label"),t._uU(12,"Amount"),t.qZA(),t.TgZ(13,"nz-form-control",3),t._UZ(14,"input",6),t.qZA()()(),t.TgZ(15,"div",2)(16,"nz-form-item"),t._UZ(17,"nz-form-label")(18,"app-button",7),t.qZA()()(),t.TgZ(19,"div",8),t.YNc(20,Ft,3,17,"div",9),t.qZA()(),t.YNc(21,Nt,1,1,"ng-template",null,10,t.W1O),t.YNc(23,Lt,1,1,"ng-template",null,11,t.W1O),t.YNc(25,Et,1,4,"ng-template",null,12,t.W1O)),2&n&&(t.Q6J("formGroup",o.form),t.xp6(2),t.Q6J("nzLg",8)("nzSpan",24)("nzXs",24),t.xp6(4),t.Q6J("nzValidateStatus",o.getNzFormControlValidStatus("title",o.form)),t.xp6(1),t.Q6J("autofocus",!0),t.xp6(2),t.Q6J("nzLg",8)("nzSpan",24)("nzXs",24),t.xp6(4),t.Q6J("nzValidateStatus",o.getNzFormControlValidStatus("amount",o.form)),t.xp6(2),t.Q6J("nzLg",8)("nzSpan",24)("nzXs",24),t.xp6(3),t.Q6J("props",t.VKq(15,It,o.onHandleAddItem)),t.xp6(2),t.Q6J("ngIf",o.expenses.length>0))},dependencies:[d.O5,p.Fj,p.wV,p.JJ,p.JL,p.qQ,p.sg,p.u,l.t3,l.SK,i.Nx,i.iK,i.Fd,x.Zp,J.r,z.a,bt.b,V.e,d.H9],encapsulation:2}),e})(),K=(()=>{class e{constructor(){this.item=new T.v8}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-stock-item-panel-header"]],inputs:{item:"item"},decls:6,vars:6,consts:[[1,"flex","justify-between","w-100"],[1,"mr2"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"span",1),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&n&&(t.xp6(2),t.lnq(" ",o.item.productQuantity," | ",null==o.item.product||null==o.item.product.basic?null:o.item.product.basic.productName," - ",null==o.item.product||null==o.item.product.basic?null:o.item.product.basic.brandName," "),t.xp6(2),t.Oqu(t.lcZ(5,4,o.item.recordedDate)))},dependencies:[d.uU],encapsulation:2}),e})();const Rt=["supplierSearchComponent"],Ut=["productSearchComponent"],Gt=["datePickerComponent"];function Ht(e,c){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA(),t._uU(2," ( "),t.TgZ(3,"small"),t._uU(4),t.qZA(),t._uU(5," ) ")),2&e){const n=c.item;t.xp6(1),t.Oqu(n.supplierBusinessName),t.xp6(3),t.AsE("",n.supplierFirstName," - ",n.supplierPhone,"")}}function Pt(e,c){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=c.item;t.xp6(1),t.AsE("",n.basic.productName," - ",n.basic.brandName,"")}}const Dt=function(e){return{handler:e,title:"Push",size:"small",icon:"appstore-add"}};function qt(e,c){if(1&e&&t._UZ(0,"app-button",24),2&e){const n=t.oxw();t.Q6J("props",t.VKq(1,Dt,n.handleAddStockItemToList))}}const Vt=function(e){return{handler:e,title:"Clear",size:"small",icon:"clear",type:"default"}};function Yt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"app-button",25),t.NdJ("nzOnCancel",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.emptyAction())})("nzOnConfirm",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.onClearMainForm())}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("props",t.VKq(1,Vt,n.emptyAction))}}function Bt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"nz-tab",30)(1,"app-stock-item-settlement-form",31),t.NdJ("settlementChange",function(a){t.CHM(n);const s=t.oxw(2);return t.KtG(s.stock.settlement=a)}),t.qZA()()}if(2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("settlement",n.stock.settlement)}}function Xt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"nz-tab",32)(1,"app-stock-item-extra-expenses",33),t.NdJ("expensesChange",function(a){t.CHM(n);const s=t.oxw(2);return t.KtG(s.onExpensesChange(a))}),t.qZA()()}if(2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("expenses",n.stock.expenses)}}function Kt(e,c){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"nz-collapse")(2,"nz-collapse-panel",26),t.NdJ("nzActiveChange",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.isGroupExpenseOpen=!a.isGroupExpenseOpen)}),t.TgZ(3,"nz-tabset",27),t.YNc(4,Bt,2,1,"nz-tab",28),t.YNc(5,Xt,2,1,"nz-tab",29),t.qZA()()(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(2),t.Q6J("nzActive",n.isGroupExpenseOpen),t.xp6(2),t.Q6J("ngIf",n.stock.isGroupedSettlement),t.xp6(1),t.Q6J("ngIf",n.stock.isGroupedExpenses)}}function Wt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"span",43),t.NdJ("click",function(a){return a.stopPropagation()})("nzOnConfirm",function(){t.CHM(n);const a=t.oxw().index,s=t.oxw(2);return t.KtG(s.onRemoveStockItem(a))}),t.qZA()}}function $t(e,c){if(1&e&&t._UZ(0,"app-stock-item-panel-header",44),2&e){const n=t.oxw().$implicit;t.Q6J("item",n)}}function jt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"div",45)(1,"app-stock-item-settlement-form",31),t.NdJ("settlementChange",function(a){t.CHM(n);const s=t.oxw().$implicit;return t.KtG(s.settlement=a)}),t.qZA()()}if(2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("settlement",n.settlement)}}function tn(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"div",45)(1,"app-stock-item-extra-expenses",33),t.NdJ("expensesChange",function(a){t.CHM(n);const s=t.oxw(3);return t.KtG(s.onExpensesChange(a))})("expensesChange",function(a){t.CHM(n);const s=t.oxw().$implicit;return t.KtG(s.expenses=a)}),t.qZA()()}if(2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("expenses",n.expenses)}}function nn(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"nz-collapse-panel",38),t.NdJ("nzActiveChange",function(){const s=t.CHM(n).$implicit;return t.KtG(s.panelVisibility=!s.panelVisibility)}),t.YNc(1,Wt,1,0,"ng-template",null,39,t.W1O),t.YNc(3,$t,1,1,"ng-template",null,40,t.W1O),t.TgZ(5,"app-stock-item-price-form",41),t.NdJ("stockPriceChange",function(a){const m=t.CHM(n).$implicit,_=t.oxw(2);return t.KtG(_.onStockPriceChange(m,a))}),t.qZA(),t.YNc(6,jt,2,1,"div",42),t.YNc(7,tn,2,1,"div",42),t.qZA()}if(2&e){const n=c.$implicit,o=t.MAs(2),a=t.MAs(4),s=t.oxw(2);t.Q6J("nzActive",n.panelVisibility)("nzExtra",o)("nzHeader",a),t.xp6(5),t.Q6J("isGroupExpenses",s.stock.isGroupedExpenses)("stockPrice",n.price),t.xp6(1),t.Q6J("ngIf",!s.checkOptionsOne[0].checked),t.xp6(1),t.Q6J("ngIf",!s.checkOptionsOne[1].checked)}}function en(e,c){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",34),t._UZ(2,"span"),t.TgZ(3,"button",35),t.NdJ("nzOnConfirm",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.onRemoveAllStockItems())}),t._uU(4," Remove All "),t._UZ(5,"span",36),t.qZA()(),t.TgZ(6,"nz-collapse"),t.YNc(7,nn,8,7,"nz-collapse-panel",37),t.qZA(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(7),t.Q6J("ngForOf",n.itemsList)}}const on=function(e){return{formGroup:e,controlName:"supplier"}},cn=function(){return{placeholder:"Search Supplier",mode:"default"}},an=function(e){return{formGroup:e,controlName:"product"}},sn=function(){return{placeholder:"Search Product",mode:"default"}},rn=function(e){return{formGroup:e,controlName:"date"}},pn=function(){return{name:"formCheckBox",standalone:!0}};let W=(()=>{class e{constructor(n,o,a,s,m){var _=this;this.fb=n,this.usecase=o,this.notification=a,this.msg=s,this.util=m,this.stock=new T.Wd,this.form=this.formBuild,this.isMainFormOpen=!0,this.minSearchCharacter=3,this.itemsList=[],this.checkOptionsOne=[{label:"Group Settlement",value:"settlement",checked:!1},{label:"Group Expenses",value:"expenses",checked:!1}],this.isGroupExpenseOpen=!0,this.ModalOrDrawer=w.NH,this.isFormControlInvalid=this.util.isFormControlInvalid,this.SupplierRoutes=U.x$,this.ProductRoutes=U.VB,this.getNzFormControlValidStatus=this.util.getNzFormControlValidStatus,this.onSaveStockForm=(0,u.Z)(function*(){_.updateStockItemsList();let M=yield _.util.handleUsecaseRequest(_.usecase.save(_.stock),_.notification);return _.onAfterFormSubmit(M),M.ok}),this.handleAddStockItemToList=()=>{this.form.invalid?this.util.markFormFieldsAsDirtyAndTouched(this.form):this.isFormValueAlreadyPresentInStockItemList()?this.msg.error("Similar Product Already Added"):(this.onToggleMainForm(),this.itemsList=this.addNewStockItemToItemsListAndReturnList(),this.updateStockItemsList(),this.onExpensesChange())},this.emptyAction=()=>{},this.onClearMainForm=()=>{this.form.reset(),this.form=this.formBuild,this.supplierSearchComponent?.clear(),this.productSearchComponent?.clear(),this.datePickerComponent?.onClear(),this.datePickerComponent?.setDefaultDate(this.currentDate)}}get currentDate(){return this.util.getDateString()}get formBuild(){return this.fb.group({supplier:[null,[p.kI.required]],product:[null,[p.kI.required]],quantity:[null,[p.kI.required]],date:[null,[p.kI.required]],uploads:[null]})}onRemoveStockItem(n){this.itemsList=this.itemsList.filter((o,a)=>a!==n),this.updateStockItemsList(),this.onExpensesChange(),this.updateStockSettlement()}onRemoveAllStockItems(){this.itemsList=[],this.updateStockItemsList(),this.onExpensesChange(),this.updateStockSettlement()}status(n){return this.util.getNzFormControlValidStatus(n,this.form)}onGroupCheckBoxChange(n){this.stock.isGroupedSettlement=n[0].checked,this.stock.isGroupedExpenses=n[1].checked,this.updateStockItemsExpensesIfGroupExpensesChange(n)}onStockPriceChange(n,o){const s=n.productQuantity??0,m=Number(o.costPrice??0)*Number(s);this.updateStockItemSettlement(n,m),this.updateStockSettlement()}onExpensesChange(n){n&&this.stock.isGroupedExpenses&&this.stock.updateStockExpenses(n);const o=this.getItemExpensesAmount(n);this.updateAllStockItemsExpensesAmount(o)}updateStockItemsExpensesIfGroupExpensesChange(n){n[1].checked&&(this.stock.isGroupedExpenses=n[1].checked,this.stock.updateStockExpenses([]),this.updateAllStockItemsExpensesAmount(0))}addNewStockItemToItemsListAndReturnList(){const n=[...this.itemsList];return n.forEach(o=>o.panelVisibility=!1),n.push({...this.useFormValueToCreateNewItem()}),n[n.length-1].panelVisibility=!0,n}useFormValueToCreateNewItem(){const n=new T.v8;return n.panelVisibility=!1,n.supplier=this.form.controls.supplier.value,n.product=this.form.controls.product.value,n.productQuantity=this.form.controls.quantity.value,n.recordedDate=this.form.controls.date.value,n.expenses=[],n.settlement=new T.p2,n.price=new T.Xr,n}getItemExpensesAmount(n){const o=this.getTotalExpensesAmount(n),a=this.getTotalQuantityOfProductsInStockItems();return Math.round(Number(o)/Number(a))}updateAllStockItemsExpensesAmount(n){for(let o of this.itemsList){const a=o.price;a.expensesAmount=n,a.calculateSellingPrice()}}updateStockItemSettlement(n,o){const a=n.settlement;a.amount=o,a.paid=0,a.balance=Number(a.amount)-Number(a.paid),n.updateStockSettlement(a),this.updateStockItemsList()}updateStockSettlement(){const o=this.getTotalCostPriceOfStockItems(),a=this.stock.settlement;a.amount=o,a.calculateBalance(),this.stock.updateStockSettlement(a)}updateStockItemsList(){this.stock.updateStockItems(this.itemsList)}isFormValueAlreadyPresentInStockItemList(){const n=this.form.controls.supplier.value,o=this.form.controls.product.value;return this.itemsList.some(a=>a.product?.id===o.id&&a.supplier?.id===n.id)}onToggleMainForm(){this.isMainFormOpen=!this.isMainFormOpen,this.isGroupExpenseOpen=!this.isGroupExpenseOpen}getTotalCostPriceOfStockItems(){return this.itemsList.reduce((n,o)=>n+(Number(o.price.costPrice)*Number(o.productQuantity)||0),0)}getTotalExpensesAmount(n){return(n??this.stock.expenses).reduce((a,s)=>a+(s.amount||0),0)}getTotalQuantityOfProductsInStockItems(){return this.itemsList.reduce((n,o)=>n+(o.productQuantity||0),0)}onAfterFormSubmit(n){n.ok&&this.onClearMainForm()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.qu),t.Y36(_t),t.Y36(gt.zb),t.Y36(G.dD),t.Y36(N.f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-stock-form"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Rt,5),t.Gf(Ut,5),t.Gf(Gt,5)),2&n){let a;t.iGM(a=t.CRH())&&(o.supplierSearchComponent=a.first),t.iGM(a=t.CRH())&&(o.productSearchComponent=a.first),t.iGM(a=t.CRH())&&(o.datePickerComponent=a.first)}},decls:50,vars:53,consts:[["autocomplete","off","nz-form","","nzLayout","vertical",3,"formGroup"],["nz-col","","nz-row","",3,"nzSpan"],["nz-col","","nzSpan","24",1,"mb2"],[3,"nzActive","nzHeader","nzActiveChange"],["nz-row","","nzGutter","8"],["nz-col","",3,"nzLg","nzSpan","nzXs"],["nzErrorTip","",3,"nzValidateStatus"],[3,"formProps","minLength","optionTemplate","option","props","searchUrl"],["supplierSearchComponent",""],["dropDownOptionTemplate",""],[1,"flex","justify-between"],["productSearchComponent",""],["productDropDownOptionTemplate",""],[3,"formProps","select"],["datePickerComponent",""],["formControlName","quantity",1,"wd-100p",3,"nzMin","nzPlaceHolder","nzStep"],[3,"nzSize"],[3,"props",4,"nzSpaceItem"],["nz-popconfirm","","nzPopconfirmPlacement","topLeft","nzPopconfirmTitle","Are you sure you want to clear",3,"props","nzOnCancel","nzOnConfirm",4,"nzSpaceItem"],["nz-col","","nzSpan","24",1,"mb2","mt3"],[1,"w-100","flex","justify-between","pa1"],[3,"ngModel","ngModelOptions","ngModelChange"],[4,"ngIf"],["nz-col","","nzSpan","24"],[3,"props"],["nz-popconfirm","","nzPopconfirmPlacement","topLeft","nzPopconfirmTitle","Are you sure you want to clear",3,"props","nzOnCancel","nzOnConfirm"],["nzHeader","Group Expenses / Settlement Setup",3,"nzActive","nzActiveChange"],["nzType","line"],["nzClosable","","nzTitle","Group Settlement",4,"ngIf"],["nzClosable","","nzTitle","Group Expenses",4,"ngIf"],["nzClosable","","nzTitle","Group Settlement"],[3,"settlement","settlementChange"],["nzClosable","","nzTitle","Group Expenses"],[3,"expenses","expensesChange"],[1,"w-100","flex","justify-between","pa0"],["nz-button","","nz-popconfirm","","nzPopconfirmPlacement","topLeft","nzPopconfirmTitle","Are you sure you want to remove all?","nzSize","default","nzType","text",3,"nzOnConfirm"],["nz-icon","","nzTheme","outline","nzType","delete",1,"red"],[3,"nzActive","nzExtra","nzHeader","nzActiveChange",4,"ngFor","ngForOf"],[3,"nzActive","nzExtra","nzHeader","nzActiveChange"],["deleteTmpl",""],["titleHeaderTmpl",""],[3,"isGroupExpenses","stockPrice","stockPriceChange"],["class","mt3",4,"ngIf"],["nz-icon","","nz-popconfirm","","nzPopconfirmPlacement","topLeft","nzPopconfirmTitle","Are you sure you want to remove?","nzTheme","outline","nzType","delete",1,"red",3,"click","nzOnConfirm"],[1,"w-100",3,"item"],[1,"mt3"]],template:function(n,o){if(1&n&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"nz-collapse")(4,"nz-collapse-panel",3),t.NdJ("nzActiveChange",function(){return o.isMainFormOpen=!o.isMainFormOpen}),t.TgZ(5,"div",4)(6,"div",5)(7,"nz-form-item")(8,"nz-form-label"),t._uU(9,"Supplier"),t.qZA(),t.TgZ(10,"nz-form-control",6),t._UZ(11,"app-search-model-dropdown",7,8),t.qZA(),t.YNc(13,Ht,6,3,"ng-template",null,9,t.W1O),t.qZA()(),t.TgZ(15,"div",5)(16,"nz-form-item")(17,"div",10)(18,"nz-form-label"),t._uU(19,"Product Search"),t.qZA()(),t.TgZ(20,"nz-form-control",6),t._UZ(21,"app-search-model-dropdown",7,11),t.qZA(),t.YNc(23,Pt,2,2,"ng-template",null,12,t.W1O),t.qZA()()(),t.TgZ(25,"div",4)(26,"div",5)(27,"nz-form-item")(28,"nz-form-label"),t._uU(29,"Date"),t.qZA(),t._UZ(30,"app-date-picker",13,14),t.qZA()(),t.TgZ(32,"div",5)(33,"nz-form-item")(34,"nz-form-label"),t._uU(35,"Quantity"),t.qZA(),t.TgZ(36,"nz-form-control",6),t._UZ(37,"nz-input-number",15),t.qZA()()()(),t.TgZ(38,"div",4)(39,"div",5)(40,"nz-space",16),t.YNc(41,qt,1,3,"app-button",17),t.YNc(42,Yt,1,3,"app-button",18),t.qZA()()()()()(),t.TgZ(43,"div",19)(44,"div",20)(45,"nz-checkbox-group",21),t.NdJ("ngModelChange",function(){return o.onGroupCheckBoxChange(o.checkOptionsOne)})("ngModelChange",function(s){return o.checkOptionsOne=s}),t.qZA()()(),t.TgZ(46,"div",2),t.YNc(47,Kt,6,3,"ng-container",22),t.qZA(),t.TgZ(48,"div",23),t.YNc(49,en,8,1,"ng-container",22),t.qZA()()()),2&n){const a=t.MAs(14),s=t.MAs(24);t.Q6J("formGroup",o.form),t.xp6(1),t.Q6J("nzSpan",24),t.xp6(3),t.Q6J("nzActive",o.isMainFormOpen)("nzHeader","Register Stock Items"),t.xp6(2),t.Q6J("nzLg",12)("nzSpan",24)("nzXs",24),t.xp6(4),t.Q6J("nzValidateStatus",o.getNzFormControlValidStatus("supplier",o.form)),t.xp6(1),t.Q6J("formProps",t.VKq(44,on,o.form))("minLength",o.minSearchCharacter)("optionTemplate",a)("option","supplierBusinessName")("props",t.DdM(46,cn))("searchUrl",o.SupplierRoutes.SUPPLIER_SEARCH),t.xp6(4),t.Q6J("nzLg",12)("nzSpan",24)("nzXs",24),t.xp6(5),t.Q6J("nzValidateStatus",o.getNzFormControlValidStatus("product",o.form)),t.xp6(1),t.Q6J("formProps",t.VKq(47,an,o.form))("minLength",o.minSearchCharacter)("optionTemplate",s)("option","basic.productName")("props",t.DdM(49,sn))("searchUrl",o.ProductRoutes.PRODUCT_SEARCH),t.xp6(5),t.Q6J("nzLg",12)("nzSpan",24)("nzXs",24),t.xp6(4),t.Q6J("formProps",t.VKq(50,rn,o.form))("select",o.currentDate),t.xp6(2),t.Q6J("nzLg",12)("nzSpan",24)("nzXs",24),t.xp6(4),t.Q6J("nzValidateStatus",o.getNzFormControlValidStatus("quantity",o.form)),t.xp6(1),t.Q6J("nzMin",1)("nzPlaceHolder","Enter quantity")("nzStep",1),t.xp6(2),t.Q6J("nzLg",12)("nzSpan",24)("nzXs",24),t.xp6(1),t.Q6J("nzSize","small"),t.xp6(5),t.Q6J("ngModel",o.checkOptionsOne)("ngModelOptions",t.DdM(52,pn)),t.xp6(2),t.Q6J("ngIf",o.stock.isGroupedSettlement||o.stock.isGroupedExpenses),t.xp6(2),t.Q6J("ngIf",o.itemsList.length)}},dependencies:[d.sg,d.O5,p._Y,p.JJ,p.JL,p.On,p.sg,p.u,l.t3,l.SK,i.Lr,i.Nx,i.iK,i.Fd,H.ix,P.w,ft._V,zt.JW,D.xH,D.xw,ht.Ls,St.ub,g.NU,g.$1,q.Zv,q.yH,Ct.L,J.r,xt.n,kt.h,Y,X,K],encapsulation:2}),e})();var ln=r(1811),$=r(7131);const mn=["stockFormComponent"];function un(e,c){if(1&e&&(t.TgZ(0,"div"),t.GkF(1,4),t.qZA()),2&e){t.oxw();const n=t.MAs(3);t.xp6(1),t.Q6J("ngTemplateOutlet",n)}}function dn(e,c){1&e&&t._UZ(0,"app-stock-form",null,5)}function _n(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"div",6)(1,"button",7),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.toggleDisplay(a.ModalOrDrawer.ANY))}),t._uU(2,"Cancel"),t.qZA(),t.TgZ(3,"button",8),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.handleFormSave())}),t._uU(4,"Submit"),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(3),t.Q6J("nzLoading",n.isLoading)}}const gn=function(){return{overflow:"auto"}};let j=(()=>{class e{constructor(n){this.util=n,this.showDrawer=!1,this.showModal=!1,this.drawerSize="large",this.isLoading=!1,this.ModalOrDrawer=w.NH,this.toggleDisplay=(o=w.NH.DRAWER)=>{const{showDrawer:s}=this.util.toggleModalOrDrawer(o,this.showDrawer,this.showModal);this.showDrawer=s},this.open=()=>{this.toggleDisplay()}}handleFormSave(){var n=this;return(0,u.Z)(function*(){n.stockFormComponent&&(yield n.stockFormComponent.onSaveStockForm())&&n.toggleDisplay()})()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(N.f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-stock-manage-add"]],viewQuery:function(n,o){if(1&n&&t.Gf(mn,5),2&n){let a;t.iGM(a=t.CRH())&&(o.stockFormComponent=a.first)}},decls:6,vars:6,consts:[["nzTitle","Register New Stock",3,"nzBodyStyle","nzFooter","nzMaskClosable","nzSize","nzVisible","nzOnClose"],[4,"nzDrawerContent"],["contentFormTmpl",""],["contentFooterBtnTmpl",""],[3,"ngTemplateOutlet"],["stockFormComponent",""],[1,"fr"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"nzLoading","click"]],template:function(n,o){if(1&n&&(t.TgZ(0,"nz-drawer",0),t.NdJ("nzOnClose",function(){return o.toggleDisplay(o.ModalOrDrawer.DRAWER)}),t.YNc(1,un,2,1,"div",1),t.qZA(),t.YNc(2,dn,2,0,"ng-template",null,2,t.W1O),t.YNc(4,_n,5,1,"ng-template",null,3,t.W1O)),2&n){const a=t.MAs(5);t.Q6J("nzBodyStyle",t.DdM(5,gn))("nzFooter",a)("nzMaskClosable",!1)("nzSize",o.drawerSize)("nzVisible",o.showDrawer)}},dependencies:[d.tP,H.ix,P.w,ln.dQ,$.Vz,$.SQ,W],encapsulation:2}),e})();var fn=r(8807),zn=r(4934);const tt=function(){return[12,16]};let O=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-stock-product-location-form"]],decls:22,vars:16,consts:[["nz-row","",3,"nzGutter"],["nz-col","",3,"nzLg","nzSpan","nzXs"],["content","Enter a product name to narrow the search down to a particular product"],["name","productName","nz-input","","placeholder","Enter product name","type","text"],["content","Enter a brand name to narrow the search down to a brand"],["name","brandName","nz-input","","placeholder","Enter brand name","type","text"],[1,"wd-100p"],["name","location","nz-input","","placeholder","Enter location name","type","text"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nz-form-item"),t._UZ(3,"app-hint",2),t.TgZ(4,"nz-form-label"),t._uU(5,"Product Name"),t.qZA(),t._UZ(6,"input",3),t.qZA()(),t.TgZ(7,"div",1)(8,"nz-form-item"),t._UZ(9,"app-hint",4),t.TgZ(10,"nz-form-label"),t._uU(11,"Brand Name"),t.qZA(),t._UZ(12,"input",5),t.qZA()()(),t.TgZ(13,"div",0)(14,"div",1)(15,"nz-form-item"),t._UZ(16,"app-product-category-search",6),t.qZA()(),t.TgZ(17,"div",1)(18,"nz-form-item")(19,"nz-form-label"),t._uU(20,"Location"),t.qZA(),t._UZ(21,"input",7),t.qZA()()()),2&n&&(t.Q6J("nzGutter",t.DdM(14,tt)),t.xp6(1),t.Q6J("nzLg",12)("nzSpan",12)("nzXs",24),t.xp6(6),t.Q6J("nzLg",12)("nzSpan",12)("nzXs",24),t.xp6(6),t.Q6J("nzGutter",t.DdM(15,tt)),t.xp6(1),t.Q6J("nzLg",12)("nzSpan",12)("nzXs",24),t.xp6(3),t.Q6J("nzLg",12)("nzSpan",12)("nzXs",24))},dependencies:[l.t3,l.SK,i.Nx,i.iK,x.Zp,fn.M,zn.X],encapsulation:2}),e})();var Z=r(7417),hn=r(7170),Sn=r(9662),Cn=r(3984),h=r(8244),S=r(1971),E=r(7216),v=r(9144),I=r(1261),b=r(4284),A=r(2834),R=r(205);const xn=["stockManageAddComponent"];function kn(e,c){if(1&e&&t._UZ(0,"app-breadcrumbs",6),2&e){const n=t.oxw();t.Q6J("crumbs",n.crumbs)}}function Tn(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"app-expand-collapse-button",7),t.NdJ("openChange",function(a){t.CHM(n);const s=t.oxw();return t.KtG(s.isOpenHeader=a)}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("open",n.isOpenHeader)}}const Zn=function(e){return{title:"Add",icon:"plus",handler:e}};function vn(e,c){if(1&e&&t._UZ(0,"app-button",20),2&e){const n=t.oxw(3);t.Q6J("disabled",!n.isStockEnabled)("props",t.VKq(2,Zn,n.onCreate))}}const bn=function(e,c){return{import:e,export:c}};function An(e,c){if(1&e&&t._UZ(0,"app-export-upload-button",21),2&e){const n=t.oxw(3);t.Q6J("disableButtons",!0)("toolTips",t.WLB(2,bn,n.message.COMING_SOON,n.message.COMING_SOON))}}const Mn=function(){return[12,24]},Jn=function(){return[12,16]},yn=function(e,c,n,o){return{onSearchAction:e,isLoadingSearchResult:c,onResetAction:n,onCancelAction:o}},wn=function(e,c){return{search:e,reset:c}};function Qn(e,c){if(1&e&&(t.TgZ(0,"form",9)(1,"div",10)(2,"div",11)(3,"div",10)(4,"div",12),t._UZ(5,"app-stock-code-search"),t.qZA(),t.TgZ(6,"div",12),t._UZ(7,"app-company-user-search"),t.qZA(),t.TgZ(8,"div",12)(9,"nz-form-item")(10,"nz-form-label"),t._uU(11,"Date Range"),t.qZA(),t._UZ(12,"app-range-date-picker",13),t.qZA()()()()(),t.TgZ(13,"div",11)(14,"div",14)(15,"div",12),t._UZ(16,"app-search-reset-button",15),t.qZA(),t.TgZ(17,"div",16)(18,"nz-space",17),t.YNc(19,vn,1,4,"app-button",18),t.YNc(20,An,1,5,"app-export-upload-button",19),t.qZA()()()()()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("nzGutter",t.DdM(20,Mn)),t.xp6(2),t.Q6J("nzGutter",t.DdM(21,Jn)),t.xp6(1),t.Q6J("nzLg",8)("nzSpan",8)("nzXs",24),t.xp6(2),t.Q6J("nzLg",8)("nzSpan",8)("nzXs",24),t.xp6(2),t.Q6J("nzLg",8)("nzSpan",8)("nzXs",24),t.xp6(7),t.Q6J("nzLg",12)("nzSpan",12)("nzXs",10),t.xp6(1),t.Q6J("disableButtons",!n.isStockEnabled)("props",t.l5B(22,yn,n.onSearch,n.isLoading,n.onReset,n.onCancel))("toolTips",t.WLB(27,wn,n.isStockEnabled?"":n.disableWarning,n.isStockEnabled?"":n.disableWarning)),t.xp6(1),t.Q6J("nzLg",12)("nzSpan",12)("nzXs",10)}}function Fn(e,c){if(1&e&&t.YNc(0,Qn,21,30,"form",8),2&e){const n=t.oxw();t.Q6J("ngIf",n.isOpenHeader)}}let nt=(()=>{class e{constructor(n){var o=this;this.settingUsecase=n,this.crumbs=Z.uZ,this.isOpenHeader=!0,this.isLoading=!1,this.tableCols=[{title:"Stock #"},{title:"Recorded By"},{title:"Recorded Date"},{title:"Recorded items"},{title:"Total Product Qty"},{title:"Details"},{title:"Action"}],this.isStockEnabled=!1,this.disableWarning="Stock is disabled in setting",this.message=hn.v0,this.Promise=Promise,this.onSearch=(0,u.Z)(function*(){}),this.onReset=()=>{},this.onCancel=()=>{},this.onCreate=(0,u.Z)(function*(){return o.stockManageAddComponent?.open()})}ngOnInit(){this.checkStockStatus().then()}checkStockStatus(){var n=this;return(0,u.Z)(function*(){n.isStockEnabled=yield n.settingUsecase.getByKeyAsBool(Sn.Q.SETTING_STOCK_ENABLE_STOCK,w.Cm.STOCK,!0)})()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(Cn.F))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-manage-stock"]],viewQuery:function(n,o){if(1&n&&t.Gf(xn,5),2&n){let a;t.iGM(a=t.CRH())&&(o.stockManageAddComponent=a.first)}},decls:11,vars:4,consts:[["title","Manage Stock ",3,"action","breadcrumb","content"],["breadcrumb",""],["action",""],["content",""],[3,"colHeadings"],["stockManageAddComponent",""],[3,"crumbs"],[3,"open","openChange"],["autocomplete","off","class","ph-main","nz-form","",4,"ngIf"],["autocomplete","off","nz-form","",1,"ph-main"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nz-col","",3,"nzLg","nzSpan","nzXs"],[1,"wd-100p"],["nz-row","","nzJustify","space-between"],[3,"disableButtons","props","toolTips"],["nz-col","",1,"text-align-end",3,"nzLg","nzSpan","nzXs"],["nzSize","small"],[3,"disabled","props",4,"nzSpaceItem"],[3,"disableButtons","toolTips",4,"nzSpaceItem"],[3,"disabled","props"],[3,"disableButtons","toolTips"]],template:function(n,o){if(1&n&&(t.TgZ(0,"page-header",0),t.YNc(1,kn,1,1,"ng-template",null,1,t.W1O),t.YNc(3,Tn,1,1,"ng-template",null,2,t.W1O),t.YNc(5,Fn,1,1,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(7,"nz-card"),t._UZ(8,"app-table",4),t.qZA(),t._UZ(9,"app-stock-manage-add",null,5)),2&n){const a=t.MAs(2),s=t.MAs(4),m=t.MAs(6);t.Q6J("action",s)("breadcrumb",a)("content",m),t.xp6(8),t.Q6J("colHeadings",o.tableCols)}},dependencies:[d.O5,p._Y,p.JL,p.F,h.q,l.t3,l.SK,i.Lr,i.Nx,i.iK,S.bd,g.NU,g.$1,E.V,v.c,I.R,b.O,A.n,J.r,z.a,R.l,k,j],encapsulation:2}),e})();var Nn=r(4788);let Ln=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-move-stock-item"]],decls:3,vars:0,template:function(n,o){1&n&&(t._UZ(0,"page-header"),t.TgZ(1,"nz-card"),t._UZ(2,"nz-empty"),t.qZA())},dependencies:[h.q,S.bd,Nn.p9],encapsulation:2}),e})();function On(e,c){if(1&e&&t._UZ(0,"app-breadcrumbs",5),2&e){const n=t.oxw();t.Q6J("crumbs",n.crumbs)}}function En(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"app-expand-collapse-button",6),t.NdJ("openChange",function(a){t.CHM(n);const s=t.oxw();return t.KtG(s.isOpenHeader=a)}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("open",n.isOpenHeader)}}const In=function(){return[12,24]},Rn=function(e,c,n,o){return{onSearchAction:e,isLoadingSearchResult:c,onResetAction:n,onCancelAction:o}};function Un(e,c){if(1&e&&(t.TgZ(0,"form",8)(1,"div",9)(2,"div",10),t._UZ(3,"app-stock-code-search"),t.qZA()(),t.TgZ(4,"div",10)(5,"div",11)(6,"div",12),t._UZ(7,"app-search-reset-button",13),t.qZA()()()()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("nzGutter",t.DdM(3,In)),t.xp6(5),t.Q6J("nzSpan",24),t.xp6(1),t.Q6J("props",t.l5B(4,Rn,n.onSearch,n.isLoading,n.onReset,n.onCancel))}}function Gn(e,c){if(1&e&&t.YNc(0,Un,8,9,"form",7),2&e){const n=t.oxw();t.Q6J("ngIf",n.isOpenHeader)}}let et=(()=>{class e{constructor(){this.crumbs=Z.pc,this.isOpenHeader=!0,this.isLoading=!1,this.tableCols=[{title:"Stock #"},{title:"Recorded By"},{title:"Recorded Date"},{title:"Unique Product Count"},{title:"Total Product Qty"},{title:"Stock Details "},{title:"Action "}],this.onSearch=(0,u.Z)(function*(){}),this.onReset=()=>{},this.onCancel=()=>{}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-reconcile-stock"]],decls:9,vars:4,consts:[["title","Reconcile Stock Record",3,"action","breadcrumb","content"],["breadcrumb",""],["action",""],["content",""],[3,"colHeadings"],[3,"crumbs"],[3,"open","openChange"],["autocomplete","off","class","ph-main","nz-form","",4,"ngIf"],["autocomplete","off","nz-form","",1,"ph-main"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nz-row","","nzJustify","space-between"],["nz-col","",3,"nzSpan"],[3,"props"]],template:function(n,o){if(1&n&&(t.TgZ(0,"page-header",0),t.YNc(1,On,1,1,"ng-template",null,1,t.W1O),t.YNc(3,En,1,1,"ng-template",null,2,t.W1O),t.YNc(5,Gn,1,1,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(7,"nz-card"),t._UZ(8,"app-table",4),t.qZA()),2&n){const a=t.MAs(2),s=t.MAs(4),m=t.MAs(6);t.Q6J("action",s)("breadcrumb",a)("content",m),t.xp6(8),t.Q6J("colHeadings",o.tableCols)}},dependencies:[d.O5,p._Y,p.JL,p.F,h.q,l.t3,l.SK,i.Lr,S.bd,v.c,b.O,A.n,z.a,k],encapsulation:2}),e})();var ot=r(4962);function Hn(e,c){if(1&e&&t._UZ(0,"app-breadcrumbs",5),2&e){const n=t.oxw();t.Q6J("crumbs",n.crumbs)}}function Pn(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"app-expand-collapse-button",6),t.NdJ("openChange",function(a){t.CHM(n);const s=t.oxw();return t.KtG(s.isOpenHeader=a)}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("open",n.isOpenHeader)}}const Dn=function(e){return{title:"Add",icon:"plus",handler:e}};function qn(e,c){if(1&e&&t._UZ(0,"app-button",15),2&e){const n=t.oxw(3);t.Q6J("props",t.VKq(1,Dn,n.onCreate))}}const Vn=function(){return{}};function Yn(e,c){1&e&&t._UZ(0,"app-export-upload-button",15),2&e&&t.Q6J("props",t.DdM(1,Vn))}const Bn=function(){return[12,24]},ct=function(){return[12,16]},Xn=function(e,c,n,o){return{onSearchAction:e,isLoadingSearchResult:c,onResetAction:n,onCancelAction:o}};function Kn(e,c){if(1&e&&(t.TgZ(0,"form",8)(1,"div",9)(2,"div",10)(3,"div",9)(4,"div",11),t._UZ(5,"app-company-user-search"),t.qZA(),t.TgZ(6,"div",11),t._UZ(7,"app-company-location-search"),t.qZA()(),t.TgZ(8,"div",9)(9,"div",11)(10,"nz-form-label"),t._uU(11,"Date Range"),t.qZA(),t._UZ(12,"app-range-date-picker"),t.qZA()()()(),t.TgZ(13,"div",12)(14,"div",13)(15,"div",14),t._UZ(16,"app-search-reset-button",15),t.qZA(),t.TgZ(17,"div",16)(18,"nz-space",17),t.YNc(19,qn,1,3,"app-button",18),t.YNc(20,Yn,1,2,"app-export-upload-button",18),t.qZA()()()()()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("nzGutter",t.DdM(21,Bn)),t.xp6(2),t.Q6J("nzGutter",t.DdM(22,ct)),t.xp6(1),t.Q6J("nzLg",12)("nzSpan",8)("nzXs",24),t.xp6(2),t.Q6J("nzLg",12)("nzSpan",8)("nzXs",24),t.xp6(2),t.Q6J("nzGutter",t.DdM(23,ct)),t.xp6(1),t.Q6J("nzLg",24)("nzSpan",8)("nzXs",24),t.xp6(6),t.Q6J("nzLg",12)("nzSm",24)("nzSpan",12)("nzXs",24),t.xp6(1),t.Q6J("props",t.l5B(24,Xn,n.onSearch,n.isLoading,n.onReset,n.onCancel)),t.xp6(1),t.Q6J("nzLg",12)("nzSm",24)("nzSpan",12)("nzXs",24)}}function Wn(e,c){if(1&e&&t.YNc(0,Kn,21,29,"form",7),2&e){const n=t.oxw();t.Q6J("ngIf",n.isOpenHeader)}}let at=(()=>{class e{constructor(){this.crumbs=Z.uZ,this.isOpenHeader=!0,this.isLoading=!1,this.tableCols=[{title:"Location"},{title:"Product"},{title:"Category"},{title:"Recorded By"},{title:"Recorded Date"},{title:"Comment"},{title:"Verify Status"},{title:"Verified By"},{title:"Approve Status"},{title:"Approved By"},{title:"Action"}],this.onSearch=(0,u.Z)(function*(){}),this.onReset=()=>{},this.onCancel=()=>{},this.onCreate=()=>{}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-record-damaged-stock"]],decls:9,vars:4,consts:[["title","Record Damaged Goods",3,"action","breadcrumb","content"],["breadcrumb",""],["action",""],["content",""],[3,"colHeadings"],[3,"crumbs"],[3,"open","openChange"],["autocomplete","off","class","ph-main","nz-form","",4,"ngIf"],["autocomplete","off","nz-form","",1,"ph-main"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nz-col","",3,"nzLg","nzSpan","nzXs"],["nz-col","","nzSpan","24",1,"m-t-1em"],["nz-row","","nzJustify","space-between"],["nz-col","",3,"nzLg","nzSm","nzSpan","nzXs"],[3,"props"],["nz-col","",1,"text-align-end",3,"nzLg","nzSm","nzSpan","nzXs"],["nzSize","small"],[3,"props",4,"nzSpaceItem"]],template:function(n,o){if(1&n&&(t.TgZ(0,"page-header",0),t.YNc(1,Hn,1,1,"ng-template",null,1,t.W1O),t.YNc(3,Pn,1,1,"ng-template",null,2,t.W1O),t.YNc(5,Wn,1,1,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(7,"nz-card"),t._UZ(8,"app-table",4),t.qZA()),2&n){const a=t.MAs(2),s=t.MAs(4),m=t.MAs(6);t.Q6J("action",s)("breadcrumb",a)("content",m),t.xp6(8),t.Q6J("colHeadings",o.tableCols)}},dependencies:[d.O5,p._Y,p.JL,p.F,h.q,l.t3,l.SK,i.Lr,i.iK,S.bd,g.NU,g.$1,E.V,v.c,I.R,b.O,A.n,J.r,z.a,R.l,ot.N],encapsulation:2}),e})();function $n(e,c){if(1&e&&t._UZ(0,"app-breadcrumbs",5),2&e){const n=t.oxw();t.Q6J("crumbs",n.crumbs)}}function jn(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"app-expand-collapse-button",6),t.NdJ("openChange",function(a){t.CHM(n);const s=t.oxw();return t.KtG(s.isOpenHeader=a)}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("open",n.isOpenHeader)}}const te=function(e){return{title:"Add",icon:"plus",handler:e}};function ne(e,c){if(1&e&&t._UZ(0,"app-button",15),2&e){const n=t.oxw(3);t.Q6J("props",t.VKq(1,te,n.onCreate))}}const ee=function(){return{}};function oe(e,c){1&e&&t._UZ(0,"app-export-upload-button",15),2&e&&t.Q6J("props",t.DdM(1,ee))}const ce=function(){return[12,24]},st=function(){return[12,16]},ae=function(){return[0,8]},se=function(e,c,n,o){return{onSearchAction:e,isLoadingSearchResult:c,onResetAction:n,onCancelAction:o}};function re(e,c){if(1&e&&(t.TgZ(0,"form",8)(1,"div",9)(2,"div",10)(3,"div",9)(4,"div",11),t._UZ(5,"app-company-user-search"),t.qZA(),t.TgZ(6,"div",11),t._UZ(7,"app-company-location-search"),t.qZA()(),t.TgZ(8,"div",9)(9,"div",11)(10,"nz-form-label"),t._uU(11,"Date Range"),t.qZA(),t._UZ(12,"app-range-date-picker"),t.qZA()()()(),t.TgZ(13,"div",12)(14,"div",13)(15,"div",14),t._UZ(16,"app-search-reset-button",15),t.qZA(),t.TgZ(17,"div",16)(18,"nz-space",17),t.YNc(19,ne,1,3,"app-button",18),t.YNc(20,oe,1,2,"app-export-upload-button",18),t.qZA()()()()()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("nzGutter",t.DdM(22,ce)),t.xp6(2),t.Q6J("nzGutter",t.DdM(23,st)),t.xp6(1),t.Q6J("nzLg",12)("nzSpan",8)("nzXs",24),t.xp6(2),t.Q6J("nzLg",12)("nzSpan",8)("nzXs",24),t.xp6(2),t.Q6J("nzGutter",t.DdM(24,st)),t.xp6(1),t.Q6J("nzLg",24)("nzSpan",8)("nzXs",24),t.xp6(5),t.Q6J("nzGutter",t.DdM(25,ae)),t.xp6(1),t.Q6J("nzLg",12)("nzSm",24)("nzSpan",12)("nzXs",24),t.xp6(1),t.Q6J("props",t.l5B(26,se,n.onSearch,n.isLoading,n.onReset,n.onCancel)),t.xp6(1),t.Q6J("nzLg",12)("nzSm",24)("nzSpan",12)("nzXs",24)}}function pe(e,c){if(1&e&&t.YNc(0,re,21,31,"form",7),2&e){const n=t.oxw();t.Q6J("ngIf",n.isOpenHeader)}}let rt=(()=>{class e{constructor(){this.crumbs=Z.uZ,this.isOpenHeader=!0,this.isLoading=!1,this.tableCols=[{title:"Recorded Date"},{title:"Recorded By"},{title:"Verify Status"},{title:"Verified By"},{title:"Approved Status"},{title:"Approved By"},{title:"Action"}],this.onSearch=(0,u.Z)(function*(){}),this.onReset=()=>{},this.onCancel=()=>{},this.onCreate=()=>{}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-record-stock-balance"]],decls:9,vars:4,consts:[["title","Record Stock & Inventory Balance ",3,"action","breadcrumb","content"],["breadcrumb",""],["action",""],["content",""],[3,"colHeadings"],[3,"crumbs"],[3,"open","openChange"],["autocomplete","off","class","ph-main","nz-form","",4,"ngIf"],["autocomplete","off","nz-form","",1,"ph-main"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nz-col","",3,"nzLg","nzSpan","nzXs"],["nz-col","","nzSpan","24",1,"m-t-1em"],["nz-row","","nzJustify","space-between",3,"nzGutter"],["nz-col","",3,"nzLg","nzSm","nzSpan","nzXs"],[3,"props"],["nz-col","",1,"text-align-end",3,"nzLg","nzSm","nzSpan","nzXs"],["nzSize","small","nzWrap","true"],[3,"props",4,"nzSpaceItem"]],template:function(n,o){if(1&n&&(t.TgZ(0,"page-header",0),t.YNc(1,$n,1,1,"ng-template",null,1,t.W1O),t.YNc(3,jn,1,1,"ng-template",null,2,t.W1O),t.YNc(5,pe,1,1,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(7,"nz-card"),t._UZ(8,"app-table",4),t.qZA()),2&n){const a=t.MAs(2),s=t.MAs(4),m=t.MAs(6);t.Q6J("action",s)("breadcrumb",a)("content",m),t.xp6(8),t.Q6J("colHeadings",o.tableCols)}},dependencies:[d.O5,p._Y,p.JL,p.F,h.q,l.t3,l.SK,i.Lr,i.iK,S.bd,g.NU,g.$1,E.V,v.c,I.R,b.O,A.n,J.r,z.a,R.l,ot.N],encapsulation:2}),e})();var pt=r(9132),ie=r(788);function le(e,c){if(1&e&&t._UZ(0,"app-breadcrumbs",5),2&e){const n=t.oxw();t.Q6J("crumbs",n.crumbs)}}function me(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"app-expand-collapse-button",6),t.NdJ("openChange",function(a){t.CHM(n);const s=t.oxw();return t.KtG(s.isOpenHeader=a)}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("open",n.isOpenHeader)}}const ue=function(){return[12,24]},de=function(e,c,n,o){return{onSearchAction:e,isLoadingSearchResult:c,onResetAction:n,onCancelAction:o}};function _e(e,c){if(1&e&&(t.TgZ(0,"form",8)(1,"div",9)(2,"div",10),t._UZ(3,"app-stock-product-location-form"),t.qZA()(),t.TgZ(4,"div",10)(5,"div",11)(6,"div",12),t._UZ(7,"app-search-reset-button",13),t.qZA()()()()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("nzGutter",t.DdM(3,ue)),t.xp6(5),t.Q6J("nzSpan",24),t.xp6(1),t.Q6J("props",t.l5B(4,de,n.onSearchStock,n.isLoading,n.onResetSearchForm,n.onCancelHandler))}}function ge(e,c){if(1&e&&t.YNc(0,_e,8,9,"form",7),2&e){const n=t.oxw();t.Q6J("ngIf",n.isOpenHeader)}}let it=(()=>{class e{constructor(){this.crumbs=Z.fp,this.isOpenHeader=!0,this.isLoading=!1,this.tableCols=[{title:"Product"},{title:"Brand"},{title:"Category"},{title:"Location"},{title:"Qty Count"}],this.onSearchStock=(0,u.Z)(function*(){}),this.onResetSearchForm=()=>{},this.onCancelHandler=()=>{},this.handleCreateStock=()=>{}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-view-low-stock"]],decls:9,vars:4,consts:[["title","View Low Stock",3,"action","breadcrumb","content"],["breadcrumb",""],["action",""],["content",""],[3,"colHeadings"],[3,"crumbs"],[3,"open","openChange"],["autocomplete","off","class","ph-main","nz-form","",4,"ngIf"],["autocomplete","off","nz-form","",1,"ph-main"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nz-row","","nzJustify","space-between"],["nz-col","",3,"nzSpan"],[3,"props"]],template:function(n,o){if(1&n&&(t.TgZ(0,"page-header",0),t.YNc(1,le,1,1,"ng-template",null,1,t.W1O),t.YNc(3,me,1,1,"ng-template",null,2,t.W1O),t.YNc(5,ge,1,1,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(7,"nz-card"),t._UZ(8,"app-table",4),t.qZA()),2&n){const a=t.MAs(2),s=t.MAs(4),m=t.MAs(6);t.Q6J("action",s)("breadcrumb",a)("content",m),t.xp6(8),t.Q6J("colHeadings",o.tableCols)}},dependencies:[d.O5,p._Y,p.JL,p.F,h.q,l.t3,l.SK,i.Lr,S.bd,v.c,b.O,A.n,z.a,O],encapsulation:2}),e})();function fe(e,c){if(1&e&&t._UZ(0,"app-breadcrumbs",5),2&e){const n=t.oxw();t.Q6J("crumbs",n.crumbs)}}function ze(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"app-expand-collapse-button",6),t.NdJ("openChange",function(a){t.CHM(n);const s=t.oxw();return t.KtG(s.isOpenHeader=a)}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("open",n.isOpenHeader)}}const he=function(){return[12,24]},Se=function(e,c,n,o){return{onSearchAction:e,isLoadingSearchResult:c,onResetAction:n,onCancelAction:o}};function Ce(e,c){if(1&e&&(t.TgZ(0,"form",8)(1,"div",9)(2,"div",10),t._UZ(3,"app-stock-product-location-form"),t.qZA()(),t.TgZ(4,"div",10)(5,"div",11)(6,"div",12),t._UZ(7,"app-search-reset-button",13),t.qZA()()()()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("nzGutter",t.DdM(5,he)),t.xp6(5),t.Q6J("nzLg",24)("nzSpan",24)("nzXs",24),t.xp6(1),t.Q6J("props",t.l5B(6,Se,n.onSearchStock,n.isLoading,n.onResetSearchForm,n.onCancelHandler))}}function xe(e,c){if(1&e&&t.YNc(0,Ce,8,11,"form",7),2&e){const n=t.oxw();t.Q6J("ngIf",n.isOpenHeader)}}let lt=(()=>{class e{constructor(){this.crumbs=Z.vv,this.isOpenHeader=!0,this.isLoading=!1,this.tableCols=[{title:"Product"},{title:"Brand"},{title:"Category"},{title:"Location"},{title:"Qty Count"}],this.onSearchStock=(0,u.Z)(function*(){}),this.onResetSearchForm=()=>{},this.onCancelHandler=()=>{},this.handleCreateStock=()=>{}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-view-stock-count"]],decls:9,vars:4,consts:[["title","View Stock Count",3,"action","breadcrumb","content"],["breadcrumb",""],["action",""],["content",""],[3,"colHeadings"],[3,"crumbs"],[3,"open","openChange"],["autocomplete","off","class","ph-main","nz-form","",4,"ngIf"],["autocomplete","off","nz-form","",1,"ph-main"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nz-row","","nzJustify","space-between"],["nz-col","",3,"nzLg","nzSpan","nzXs"],[3,"props"]],template:function(n,o){if(1&n&&(t.TgZ(0,"page-header",0),t.YNc(1,fe,1,1,"ng-template",null,1,t.W1O),t.YNc(3,ze,1,1,"ng-template",null,2,t.W1O),t.YNc(5,xe,1,1,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(7,"nz-card"),t._UZ(8,"app-table",4),t.qZA()),2&n){const a=t.MAs(2),s=t.MAs(4),m=t.MAs(6);t.Q6J("action",s)("breadcrumb",a)("content",m),t.xp6(8),t.Q6J("colHeadings",o.tableCols)}},dependencies:[d.O5,p._Y,p.JL,p.F,h.q,l.t3,l.SK,i.Lr,S.bd,v.c,b.O,A.n,z.a,O],encapsulation:2}),e})();const ke=[{path:"manage-stock",component:nt},{path:"view-stock-count",component:lt},{path:"view-low-stock",component:it},{path:"reconcile-stock",component:et},{path:"record-stock-balance",component:rt},{path:"record-damaged-stock",component:at},{path:"move-stock-items",component:ie.s}];let Te=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[pt.Bz.forChild(ke),pt.Bz]}),e})();const Ze=[nt,lt,it,et,rt,at,O,k,Ln,j,Y,X,K,W];let ve=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[Te,C.m8,F.ProductsModule,Q.CompanyModule]}),e})()},788:(mt,y,r)=>{r.d(y,{s:()=>x});var C=r(4650),Q=r(9132),F=r(6616),t=r(7044),l=r(1811),i=r(6174);let x=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275cmp=C.Xpm({type:f,selectors:[["app-coming-soon"]],decls:4,vars:0,consts:[["nzStatus","404","nzSubTitle","Coming soon, stay tuned for updates. \u{1f680}","nzTitle","Coming Soon"],["nz-result-extra",""],["nz-button","","nzType","primary","routerLink","/dashboard/"]],template:function(u,p){1&u&&(C.TgZ(0,"nz-result",0)(1,"div",1)(2,"button",2),C._uU(3,"Back Home"),C.qZA()()())},dependencies:[Q.rH,F.ix,t.w,l.dQ,i.ml,i.ey],encapsulation:2}),f})()}}]);